spring:
  application:
    name: DB_Instagram
  datasource:
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://${DB_HOST}:${DB_PORT}/${DB_NAME}?useSSL=true&serverTimezone=UTC
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000
  jpa:
    show-sql: false
    hibernate:
      # Production: use 'validate' to ensure schema matches entities
      # Database migrations should be managed via Flyway/Liquibase or manual SQL scripts
      ddl-auto: validate
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
  servlet:
    multipart:
      max-file-size: 1GB
      max-request-size: 1GB
      file-size-threshold: 10MB
      enabled: true
      location: ${java.io.tmpdir}
  mvc:
    async:
      request-timeout: 300000  # 5 minutes timeout for file uploads

jwt:
  secret:
    # IMPORTANT: JWT_SECRET_KEY must be set as environment variable in production
    # Do not use default values - generate a strong secret key
    key: ${JWT_SECRET_KEY}
  expired:
    access: ${JWT_EXPIRED_ACCESS:3600}  # Access token: 1 hour default
    refresh: ${JWT_EXPIRED_REFRESH:604800}  # Refresh token: 7 days default

cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS}

cloudinary:
  cloud-name: ${CLOUDINARY_CLOUD_NAME}
  api-key: ${CLOUDINARY_API_KEY}
  api-secret: ${CLOUDINARY_API_SECRET}

logging:
  level:
    com.data.db_instagram: INFO
    org.springframework.security: WARN
    root: WARN
  file:
    name: logs/application.log
  pattern:
    file: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

