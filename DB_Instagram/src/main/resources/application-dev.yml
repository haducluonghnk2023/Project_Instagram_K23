spring:
  application:
    name: DB_Instagram
  datasource:
    username: ${DB_USERNAME:root}
    # ⚠️ SECURITY WARNING: Default password for development only!
    # In production, use environment variables: ${DB_PASSWORD:your-secure-password}
    # NEVER commit real credentials to version control!
    password: ${DB_PASSWORD:123456}
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:db_instagram}?createDatabaseIfNotExist=true
  jpa:
    show-sql: false  # Tắt show-sql để giảm log, chỉ bật khi debug
    hibernate:
      # For development: use 'update' to auto-create/update tables
      # NOTE: For production, use 'validate' and manage migrations with Flyway/Liquibase
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
        format_sql: false
        # Batch loading để tránh N+1 query problem
        jdbc:
          batch_size: 50
        order_inserts: true
        order_updates: true
        batch_versioned_data: true
  servlet:
    multipart:
      max-file-size: 1GB
      max-request-size: 1GB
      file-size-threshold: 10MB
      enabled: true
      location: ${java.io.tmpdir}
  mvc:
    async:
      request-timeout: 300000  # 5 minutes timeout for file uploads

jwt:
  secret:
    # ⚠️ SECURITY WARNING: Default key for development only!
    # In production, use environment variables: ${JWT_SECRET_KEY:your-secret-key}
    # NEVER commit real credentials to version control!
    key: ${JWT_SECRET_KEY:G1yZlT5+eV9Qm1vN8xYkP7a3rjV0oL2m9bQ1eYfH0kU=}
  expired:
    access: ${JWT_EXPIRED_ACCESS:43200}  # Access token: 12 hours for dev
    refresh: ${JWT_EXPIRED_REFRESH:2592000}  # Refresh token: 30 days for dev

cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:8081,http://localhost:19006}

cloudinary:
  # ⚠️ SECURITY WARNING: Default credentials for development only!
  # In production, use environment variables for all Cloudinary credentials
  # NEVER commit real credentials to version control!
  cloud-name: ${CLOUDINARY_CLOUD_NAME:dlcfbiayq}
  api-key: ${CLOUDINARY_API_KEY:518132578465253}
  api-secret: ${CLOUDINARY_API_SECRET:IPSqvoALfA18DP0aVvrt9XJ844Y}

logging:
  level:
    com.data.db_instagram: DEBUG
    org.springframework.security: DEBUG

